<template>
  <h1>TODOãƒªã‚¹ãƒˆ</h1>
  <table>
    <tbody>
      <tr v-for="(task, id) in tasks" v-bind:key="id">
        <td>
          <input
            type="radio"
            v-bind:id="id"
            v-on:input="emits('actionDestroy', { id })"
          />
        </td>
        <td>
          <strong>{{ task.title }}</strong>
          <p>{{ task.description }}</p>
        </td>
        <td>
          <button v-on:click="emits('actionEdit', { id })">EditğŸ“</button>
        </td>
      </tr>
    </tbody>
  </table>

  <section v-show="isEmpty">
    <h2>ã¾ã ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã›ã‚“ğŸ’¡</h2>
    <p>ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ğŸ‰</p>
  </section>

  <footer>
    <button v-on:click="emits('actionNew')">Newâ•</button>
  </footer>
</template>

<script setup>
import { computed } from "vue";

const emits = defineEmits(["actionNew", "actionEdit", "actionDestroy"]);
const props = defineProps({
  tasks: {
    type: Object,
  },
});

const isEmpty = computed(() => {
  return Object.keys(props.tasks).length === 0;
});
</script>
